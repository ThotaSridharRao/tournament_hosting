<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description"
    content="EArena â€” host and compete. Clean, accessible esports landing page with responsive layout and video hero." />
  <meta name="theme-color" content="#0b0b0b" />
  <title>EArena â€” Compete | Host | Win</title>

  <!-- Fonts & icons (preload & preconnect for performance) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity=""
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    /* =========================
       Theme variables (Futuristic)
       ========================= */
    :root {
      --bg-dark: #0f0f23;
      --bg-medium: #1a1a2e;
      --bg-light: #16213e;
      --accent-green: #00ff88;
      --accent-blue: #00ccff;
      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.8);
      --border-color: rgba(0, 255, 136, 0.3);
      --ease: 0.3s ease;

      /* Legacy variables for compatibility */
      --copy: var(--text-primary);
      --muted: var(--text-secondary);
      --accent: var(--accent-green);
      --accent-2: var(--accent-blue);
      --radius: 12px;
      --container: 1400px;
    }

    /* Enhanced easing curves for smoother animations */
    :root {
      --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
      --ease-in-out-quart: cubic-bezier(0.76, 0, 0.24, 1);
      --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
      --spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* Respect reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
      :root {
        --ease: 0ms;
      }

      * {
        transition-duration: 0ms !important;
        animation-duration: 0ms !important;
        animation-iteration-count: 1 !important;
      }
    }

    /* =========================
       Base resets & accessibility
       ========================= */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-medium) 50%, var(--bg-light) 100%);
      background-attachment: fixed; /* Ensures gradient is seamless on scroll */
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      -webkit-text-size-adjust: 100%;
      overflow-x: hidden; /* Prevent horizontal scrollbars */
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img,
    video,
    iframe {
      max-width: 100%;
      display: block;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* Skip link for keyboard users */
    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }

    .skip-link:focus {
      left: 1rem;
      top: 1rem;
      width: auto;
      height: auto;
      padding: .5rem .75rem;
      background: rgba(0, 0, 0, .8);
      border-radius: 6px;
      color: var(--copy);
      z-index: 9999;
    }

    /* =========================
       Layout helpers
       ========================= */
    .container {
      width: min(94%, var(--container));
      margin: 0 auto;
    }

    /* Animated background particles */
    .bg-particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: hidden;
    }

    .particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background: #00ff88;
        border-radius: 50%;
        opacity: 0.7;
        animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
        50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
    }


    /* Futuristic Header */
    header.site-header {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 1rem 2rem;
        background: var(--bg-dark);
        border-bottom: 1px solid var(--border-color);
        z-index: 1200;
        transition: all 0.3s var(--ease-out-quart);
        height: auto;
    }
    
    .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 100%;
        max-width: var(--container);
        margin: 0 auto;
        position: relative;
    }

    header.site-header.scrolled {
      background: var(--bg-medium);
      box-shadow: 0 2px 20px rgba(0, 255, 136, 0.1);
    }
    
    .brand {
      font-size: 2rem;
      font-weight: bold;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
      text-decoration: none;
    }
    
    .brand .accent { /* Hide original accent */
        display:none;
    }

    nav.primary {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    /* Nav links â€” desktop */
    .nav-links {
      display: flex;
      gap: 2rem;
      align-items: center;
      list-style: none;
    }

    .nav-item {
      position: relative;
    }

    .nav-links a {
      color: var(--text-primary);
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      padding: 0.5rem 0;
    }

    .nav-links a:hover {
      color: var(--accent-green);
      transform: translateY(-2px);
    }

    .nav-links a::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
        transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
        width: 100%;
    }

    /* Dropdown styles */
    .dropdown-arrow {
      font-size: 0.7rem;
      transition: transform 0.3s var(--ease-out-quart);
    }

    .nav-item:hover .dropdown-arrow {
      transform: rotate(180deg);
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--bg-medium);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px;
      min-width: 200px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s var(--ease-out-quart);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .nav-item:hover .dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-menu a {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(255,255,255, 0.1);
      font-size: 0.85rem;
      color: #bbb;
    }

    .dropdown-menu a:last-child {
      border-bottom: none;
    }

    .dropdown-menu a:hover {
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
    }

    /* Right side actions */
    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem; /* Spacing */
    }
    
    .login-link {
        display: none; /* Replaced by Join Now button */
    }

    /* CTA button in header */
    .header-cta {
        background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
        color: var(--bg-dark);
        padding: 0.8rem 2rem;
        border: none;
        border-radius: 25px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
    }
    .header-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 255, 136, 0.4);
    }
    
    .header-cta:focus {
      outline: none;
    }

    /* Profile Dropdown Styles */
    .profile-dropdown {
      position: relative;
      display: flex;
      align-items: center;
    }

    .profile-icon {
      width: auto;
      height: auto;
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 50%;
      transition: all 0.3s ease;
      font-size: 1.8rem;
    }

    .profile-icon:hover {
      color: var(--accent);
      transform: scale(1.1);
    }

    .profile-modal {
      position: absolute;
      top: 150%; /* Position below icon */
      right: 0;
      background: var(--bg-medium);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      min-width: 250px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s var(--ease-out-quart);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .profile-dropdown:hover .profile-modal {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .profile-header {
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
      text-align: center;
    }
    
    .profile-photo {
        display:none; /* Not in new design */
    }

    .profile-info {
      flex: 1;
    }

    .profile-username {
      font-weight: 700;
      color: var(--copy);
      font-size: 1.1rem;
      margin-bottom: 0.25rem;
    }

    .profile-role {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
      color: var(--bg-dark);
      padding: 0.2rem 0.5rem;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: inline-block;
    }

    .profile-actions {
      padding: 0.5rem;
    }

    .profile-action {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      color: var(--text-primary);
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 0.95rem;
      width: 100%;
      border: none;
      background: none;
      cursor: pointer;
      font-family: inherit;
      text-align: left;
    }

    .profile-action:hover {
      background: rgba(0, 255, 136, 0.1);
      color: var(--accent);
    }
    
    .logout-action:hover {
        background: rgba(255, 0, 0, 0.1);
        color: #ff6b6b;
    }

    .profile-action i {
      width: 16px;
      text-align: center;
    }

    #user-menu {
      display: flex;
      align-items: center;
    }

    /* Hamburger (mobile) */
    .hamburger {
      display: none;
      background: none;
      border: 0;
      padding: .5rem;
      cursor: pointer;
      z-index: 1; /* Ensure it's clickable */
    }

    .hamburger .bars {
      display: inline-block;
      width: 22px;
      height: 2px;
      background: var(--copy);
      border-radius: 2px;
      position: relative;
      transition: var(--ease);
    }

    .hamburger .bars::before,
    .hamburger .bars::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--copy);
      border-radius: 2px;
      transition: var(--ease);
    }

    .hamburger .bars::before {
      top: -7px;
    }

    .hamburger .bars::after {
      top: 7px;
    }

    .hamburger[aria-expanded="true"] .bars {
      background: transparent;
    }

    .hamburger[aria-expanded="true"] .bars::before {
      transform: translateY(7px) rotate(-45deg);
      top: 0;
    }

    .hamburger[aria-expanded="true"] .bars::after {
      transform: translateY(-7px) rotate(45deg);
      top: 0;
    }

    /* Mobile nav overlay */
    .mobile-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-dark);
      z-index: 1100;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.3s ease, visibility 0.3s;
      opacity: 0;
      visibility: hidden;
    }

    .mobile-nav.is-open {
      opacity: 1;
      visibility: visible;
    }
    
    .mobile-nav .nav-links {
        flex-direction: column;
        text-align: center;
        font-size: 1.5rem;
        gap: 2rem;
    }
    .mobile-nav .nav-actions {
        margin-top: 2rem;
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .mobile-nav-section, .mobile-nav > nav > .mobile-link, .mobile-nav-actions {
        display: none; /* Hide old mobile nav elements */
    }

    /* =========================
       Hero section
       ========================= */
    .hero {
      height: 90vh;
      min-height: 700px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      padding: 2rem;
      overflow: hidden;
    }

    .hero-container {
      background: transparent;
      border: none;
      border-radius: 20px;
      padding: clamp(2rem, 5vw, 4rem);
      box-shadow: none;
      max-width: 1100px;
      width: 100%;
    }

    .hero__content {
      position: relative;
      z-index: 2;
      transition: all 0.6s var(--ease-out-quart);
      opacity: 1; /* Default to visible */
      transform: translateY(0); /* Default to visible */
      width: auto;
      padding: 0;
    }
    
    .hero__content .tournament-name {
      font-size: clamp(2.5rem, 6vw, 5rem);
      margin-bottom: 1rem;
      background: linear-gradient(45deg, #ffffff, var(--accent-green), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: glow 2s ease-in-out infinite alternate;
      text-shadow: none;
    }
    
    @keyframes glow {
        from { text-shadow: 0 0 20px rgba(0, 255, 136, 0.5); }
        to { text-shadow: 0 0 30px rgba(0, 204, 255, 0.8); }
    }

    .hero__content .prize-pool {
        font-size: clamp(1rem, 2vw, 1.25rem);
        margin-bottom: 2rem;
        opacity: 0.9;
        line-height: 1.6;
        color: var(--text-primary);
        text-shadow: none;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    /* Primary & Secondary Buttons */
    .btn-primary {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
      color: var(--bg-dark);
      padding: 1rem 2.5rem;
      border: none;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-primary);
      padding: 1rem 2.5rem;
      border: 2px solid var(--accent-green);
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .btn-primary:hover, .btn-secondary:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(0, 255, 136, 0.4);
    }
    .btn-secondary:hover {
        background: rgba(0, 255, 136, 0.1);
    }
    
    .btn--primary { /* Legacy button, restyle to new primary */
        background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
        color: var(--bg-dark);
        padding: 1rem 2.5rem;
        border: none;
        border-radius: 30px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        box-shadow: none;
        text-shadow: none;
    }
    .btn--primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(0, 255, 136, 0.4);
    }

    #tournaments-heading {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 3rem;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }


    /* =========================
       Tournaments Section
       ========================= */
    #tournaments {
        padding-top: 0;
    }
    .tournaments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      justify-content: center;
    }

    /* Glassmorphism Tournament Card */
    .tournament-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 2rem;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        color: var(--copy);
    }

    .tournament-card:hover {
        transform: translateY(-10px);
        border-color: var(--accent-green);
        box-shadow: 0 20px 40px rgba(0, 255, 136, 0.2);
    }
    
    .tournament-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
        transition: left 0.5s ease;
    }
    .tournament-card:hover::before {
        left: 100%;
    }


    .tournament-card__poster {
      height: 180px;
      overflow: hidden;
      position: relative;
      margin: -2rem -2rem 1.5rem -2rem; /* Bleed to edges */
      border-radius: 20px 20px 0 0;
    }

    .tournament-card__poster img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s var(--ease-out-quart);
    }
    
    .tournament-card:hover .tournament-card__poster img {
      transform: scale(1.05);
    }
    
    .tournament-card__status {
        display: none; /* Hide old status */
    }
    
    .tournament-info {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1rem;
        font-size: 0.9rem;
        opacity: 0.8;
    }

    .tournament-card__info {
      padding: 0; /* Remove old padding */
    }

    .tournament-card__title {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--accent-green);
    }
    
    .prize-pool {
        font-size: 1.2rem;
        font-weight: bold;
        color: var(--accent-blue);
        margin-bottom: 1rem;
    }

    .tournament-card__meta {
      display: none; /* Hide old meta */
    }


    /* =========================
       Matches / Panels Grid
       ========================= */
    main {
      margin-top: 0; /* No margin needed with new header */
    }
    
    .section {
      padding: 5rem 2rem;
    }
    
    .highlights-section, .cta-section {
        display: none; /* Hide all old sections */
    }

    /* Why Choose Us Section */
    .why-section {
      background: rgba(0, 0, 0, 0.3);
      text-align: center;
    }

    .why-header {
        margin-bottom: 3rem;
    }

    .why-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, var(--accent-green), var(--accent-blue));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .why-title .accent {
        display: none;
    }
    
    .why-subtitle {
        font-size: 1.2rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
    }

    .why-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .why-item {
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      border: 1px solid transparent;
      transition: var(--ease);
    }
    
    .why-item:hover {
        border-color: var(--border-color);
        transform: translateY(-5px);
    }

    .why-item .fa, .why-item .fa-solid {
      font-size: 3rem;
      color: var(--accent-green);
      margin-bottom: 1.5rem;
    }

    .why-item h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .why-item p {
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* =========================
       Footer
       ========================= */
    footer.site-footer {
      background: rgba(15, 15, 35, 0.95);
      padding: 5rem 2rem 2rem;
      text-align: center;
      border-top: 1px solid var(--border-color);
      margin-top: 0;
      position: relative;
      z-index: 10;
      overflow: hidden;
    }

    .footer-grid {
      max-width: 1200px;
      margin: 0 auto 3rem auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2.5rem;
      text-align: left;
    }
    
    @media (min-width: 1024px) {
      .footer-grid {
        grid-template-columns: 2fr 1fr 1fr 1fr;
      }
    }

    .footer-column h4 {
      color: var(--accent-green);
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      font-weight: 700;
    }

    .footer-column ul a, .footer-column p {
      color: var(--text-secondary);
      text-decoration: none;
      opacity: 0.8;
      transition: all 0.3s ease;
      display: block;
      margin-bottom: 0.75rem;
    }
    
    .footer-column ul a:hover {
        opacity: 1;
        color: var(--accent-green);
        transform: translateX(5px);
    }
    
    .footer-brand .brand {
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }

    .footer-brand p {
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    .social-links {
      display: flex;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .social-links a {
      color: var(--text-secondary);
      font-size: 1.5rem;
      transition: all 0.3s ease;
    }

    .social-links a:hover {
      color: var(--accent-blue);
      transform: translateY(-3px);
    }

    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 2rem;
      opacity: 0.7;
      font-size: 0.9rem;
    }
    
    /* Animation for smoothness */
    footer.site-footer .footer-grid, footer.site-footer .footer-bottom {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    footer.site-footer.in-view .footer-grid, footer.site-footer.in-view .footer-bottom {
        opacity: 1;
        transform: translateY(0);
    }

    footer.site-footer.in-view .footer-bottom {
        transition-delay: 0.2s;
    }

    /* =========================
       Responsive
       ========================= */
    @media (max-width:920px) {
      .nav-links, .nav-actions {
        display: none;
      }

      .header-container {
        justify-content: space-between;
      }
      nav.primary {
          display: none;
      }
      .hamburger {
        display: inline-flex;
      }
    }


    @media (max-width:820px) {
      .mobile-nav.is-open {
        display: flex;
      }
    }

    @media (max-width: 768px) {
        .hero h1, .hero__content .tournament-name {
            font-size: 2.5rem;
        }
        .hero-buttons {
            flex-direction: column;
            align-items: center;
        }
        .tournaments-grid {
            grid-template-columns: 1fr;
        }
    }
  </style>
</head>

<body>
  <div class="bg-particles" id="particles"></div>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header" role="banner">
    <div class="header-container">
        <a href="index.html" class="brand" aria-hidden="false">EArena</a>

        <nav class="primary" role="navigation" aria-label="Primary">
        <div class="nav-links" role="menubar" aria-hidden="false">
            <div class="nav-item">
            <a href="#" role="menuitem">
                Tournaments
                <span class="dropdown-arrow">â–¼</span>
            </a>
            <div class="dropdown-menu">
                <a href="tournaments.html">Browse All</a>
                <a href="tournaments.html?filter=live">Live Matches</a>
                <a href="tournaments.html?filter=upcoming">Upcoming Events</a>
                <a href="tournaments.html?filter=completed">Past Results</a>
                <a href="#">Leaderboards</a>
            </div>
            </div>
            <div class="nav-item" id="host-nav-item" style="display: none;">
            <a href="#" role="menuitem">
                Host
                <span class="dropdown-arrow">â–¼</span>
            </a>
            <div class="dropdown-menu">
                <a href="admin-dashboard.html">Admin Dashboard</a>
                <a href="#">Create Tournament</a>
                <a href="#">Manage Events</a>
                <a href="#">Analytics Dashboard</a>
                <a href="#">Prize Management</a>
            </div>
            </div>
            <a href="#games" role="menuitem">Games</a>
            <a href="#community" role="menuitem">Community</a>
            <a href="#support" role="menuitem">Support</a>
            <a href="#pricing" role="menuitem">Pricing</a>
        </div>
        </nav>

        <div class="nav-actions">
        <!-- Not logged in -->
        <div id="auth-buttons">
            <button class="header-cta" aria-label="Join Now" id="join-now-desktop" onclick="redirectToAuth()">Join Now</button>
        </div>
        
        <!-- Logged in -->
        <div id="user-menu" style="display: none;">
          <div class="profile-dropdown">
            <div class="profile-icon" id="profile-icon">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="profile-modal" id="profile-modal">
                <div class="profile-header">
                <div class="profile-info">
                    <div class="profile-username" id="modal-username">User</div>
                    <div class="profile-role" id="modal-role-badge" style="display: none;">Admin</div>
                </div>
                </div>
                <div class="profile-actions">
                <a href="user-dashboard.html" class="profile-action" id="modal-dashboard-link">
                    <i class="fas fa-user"></i>
                    <span>My Account</span>
                </a>
                <button class="profile-action logout-action" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
                </div>
            </div>
            </div>
        </div>
        </div>

        <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobile-nav">
        <span class="bars" aria-hidden="true"></span>
        </button>
    </div>
  </header>

  <!-- Mobile nav (toggle) -->
  <div id="mobile-nav" class="mobile-nav" hidden>
    <div class="nav-links" role="menubar" aria-hidden="false">
        <a href="#tournaments" role="menuitem">Tournaments</a>
        <a href="#games" role="menuitem">Games</a>
        <a href="#community" role="menuitem">Community</a>
        <a href="#support" role="menuitem">Support</a>
    </div>
    <div class="nav-actions">
        <!-- Mobile auth buttons will be injected here -->
    </div>
  </div>

  <main id="main">
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
        <div class="hero-container">
            <div class="hero__content" role="region" aria-label="Hero">
                <h1 id="hero-title" class="tournament-name">Your Proving Ground Awaits</h1>
                <div id="prize-pool" class="prize-pool">
                Welcome to EArena, the heart of competitive gaming. Discover tournaments, challenge rivals, and forge your legacy.
                </div>
                
                <div class="hero-buttons">
                    <a href="#tournaments" class="btn-primary" id="cta-learn-more">Browse Tournaments</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Tournaments -->
    <section id="tournaments" class="section container" aria-labelledby="tournaments-heading">
      <h2 id="tournaments-heading">
        Tournaments
      </h2>
      <div id="tournaments-grid" class="tournaments-grid">
        <!-- Tournament cards will be injected here by JavaScript -->
      </div>
    </section>

    <!-- Why Choose Us -->
    <section class="section why-section" aria-labelledby="why-heading">
      <div class="container">
        <div class="why-header">
          <h2 id="why-heading" class="why-title">Why Choose <span class="accent">E</span>Arena?</h2>
          <p class="why-subtitle">Join the ultimate esports platform designed for champions</p>
        </div>
        <div class="why-grid" role="list">
          <div class="why-item" role="listitem">
            <i class="fa-solid fa-users" aria-hidden="true"></i>
            <h3>Thriving Community</h3>
            <p>Join thousands of passionate players. Team up, scrim, and find matches fast.</p>
          </div>

          <div class="why-item" role="listitem">
            <i class="fa-solid fa-trophy" aria-hidden="true"></i>
            <h3>Epic Prizes</h3>
            <p>Free tournaments with cash prizes and exclusive gear.</p>
          </div>

          <div class="why-item" role="listitem">
            <i class="fa-solid fa-hand-holding-dollar" aria-hidden="true"></i>
            <h3>Free to Play</h3>
            <p>Your skill mattersâ€”no entry fees for most events.</p>
          </div>

          <div class="why-item" role="listitem">
            <i class="fa-solid fa-shield-alt" aria-hidden="true"></i>
            <h3>Fair Play</h3>
            <p>Advanced anti-cheat systems and transparent rules.</p>
          </div>
        </div>
      </div>
    </section>
    
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-column footer-brand">
          <a href="index.html" class="brand">EArena</a>
          <p>The ultimate destination for competitive gaming.</p>
           <div class="social-links">
              <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
              <a href="#" aria-label="Discord"><i class="fab fa-discord"></i></a>
              <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="Youtube"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
        <div class="footer-column">
          <h4>Tournaments</h4>
          <ul>
            <li><a href="tournaments.html">Browse All</a></li>
            <li><a href="tournaments.html?filter=live">Live Matches</a></li>
            <li><a href="tournaments.html?filter=upcoming">Upcoming</a></li>
            <li><a href="tournaments.html?filter=completed">Past Results</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Community</h4>
          <ul>
            <li><a href="#">Discord</a></li>
            <li><a href="#">Forums</a></li>
            <li><a href="#">Support</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About</a></li>
            <li><a href="auth.html?tab=login&returnUrl=index.html">Sign In</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 EArena. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Helper function to redirect to auth with return URL
    function redirectToAuth(tab = 'register') {
      const currentUrl = window.location.href;
      const returnUrl = encodeURIComponent(currentUrl);
      window.location.href = `auth.html?tab=${tab}&returnUrl=${returnUrl}`;
    }

    // Enhanced smooth interactions and animations

    // Header scroll effect
    let lastScrollY = window.scrollY;
    const header = document.querySelector('.site-header');

    window.addEventListener('scroll', () => {
      const currentScrollY = window.scrollY;

      if (currentScrollY > 100) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }

      lastScrollY = currentScrollY;
    });

    // API Configuration
    // Auto-detect API URL based on environment
    const isLocal = window.location.hostname === 'localhost' || 
                   window.location.hostname === '127.0.0.1' || 
                   window.location.protocol === 'file:';
    
    const API_BASE_URL = isLocal ? 'http://localhost:8000' : 'https://t2-237c.onrender.com';

    // API Functions
    async function fetchTournaments(retryCount = 0) {
      const maxRetries = 3;

      try {
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s

        const response = await fetch(`${API_BASE_URL}/api/tournaments`, {
          signal: controller.signal,
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          }
        });

        clearTimeout(timeoutId);

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const body = await response.json();
        const tournaments = Array.isArray(body) ? body : (body.data || []);

        if (!Array.isArray(tournaments)) {
          throw new Error('Invalid data format received from API');
        }

        console.log('Fetched tournaments (normalized):', tournaments);
        
        return tournaments;
      } catch (error) {
        console.error(`Error fetching tournaments (attempt ${retryCount + 1}):`, error);

        if (retryCount < maxRetries && error.name !== 'AbortError') {
          await new Promise(res => setTimeout(res, (retryCount + 1) * 2000));
          return fetchTournaments(retryCount + 1);
        }

        showErrorState();
        
        return [];
      }
    }

    // Loading and Error States
    function showLoadingState() {
      const ctaButton = document.getElementById('cta-learn-more');
      if (ctaButton) {
        ctaButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
        ctaButton.style.pointerEvents = 'none';
      }
    }


    function hideLoadingState() {
      const ctaButton = document.getElementById('cta-learn-more');
      if (ctaButton) {
        ctaButton.innerHTML = 'Browse Tournaments';
        ctaButton.style.pointerEvents = 'auto';
      }
    }

    function showErrorState() {
      console.error('Unable to load tournament data. Please check your connection.');
    }

    // Additional API Functions
    async function fetchTournamentStats() {
        console.warn("Using placeholder for fetchTournamentStats");
        return null;
    }

    // Main Content Population Function
    async function populateAllSections() {
      try {
        console.log('Fetching all content data...');

        showLoadingState();

        const [
          tournamentsResponse,
          stats
        ] = await Promise.allSettled([
          fetchTournaments(),
          fetchTournamentStats()
        ]);

        let tournaments = [];
        if (tournamentsResponse.status === 'fulfilled') {
            tournaments = tournamentsResponse.value;
        }


        if (tournaments.length > 0) {
          populateTournamentsGrid(tournaments);
        }
        
        if (stats.status === 'fulfilled' && stats.value) {
            updateStatsDisplay(stats.value);
        }

        console.log('All content sections populated successfully');
      } catch (error) {
        console.error('Error populating content sections:', error);
      } finally {
        hideLoadingState();
      }
    }

    // Tournament status calculation function
    function calculateTournamentStatus(tournament) {
      const now = new Date();
      
      const regStart = new Date(tournament.registrationStart);
      const regEnd = new Date(tournament.registrationEnd);
      const tournStart = new Date(tournament.tournamentStart);
      const tournEnd = new Date(tournament.tournamentEnd);
      
      if (now < regStart) {
        return 'upcoming';
      } else if (now >= regStart && now <= regEnd) {
        return 'registration_open';
      } else if (now > regEnd && now < tournStart) {
        return 'registration_closed';
      } else if (now >= tournStart && now <= tournEnd) {
        return 'live';
      } else {
        return 'completed';
      }
    }
    
    function getStatusDisplayInfo(status) {
        const map = {
            'upcoming': { text: 'Upcoming', class: 'upcoming' },
            'registration_open': { text: 'Registering', class: 'registration_open' },
            'registration_closed': { text: 'Registration Closed', class: 'registration_closed' },
            'live': { text: 'Live Now', class: 'live' },
            'completed': { text: 'Completed', class: 'completed' }
        };
        return map[status] || { text: status.replace(/_/g, ' '), class: 'default' };
    }

    function populateTournamentsGrid(tournaments) {
        const grid = document.getElementById('tournaments-grid');
        if (!grid) return;

        if (tournaments.length === 0) {
            grid.innerHTML = '<p style="text-align: center; width: 100%; grid-column: 1 / -1;">No tournaments available at the moment. Check back soon!</p>';
            return;
        }

        grid.innerHTML = tournaments.slice(0, 6).map(tournament => { // Displaying up to 6 tournaments
            const status = calculateTournamentStatus(tournament);
            const statusInfo = getStatusDisplayInfo(status);
            
            const rawPoster = tournament.posterImage || tournament.backgroundImage || null;
            let finalPoster = 'https://images.unsplash.com/photo-1511556532299-8f662fc26c06?q=80&w=2070&auto=format&fit=crop'; // Default fallback
            if (rawPoster && !rawPoster.startsWith('http')) {
                const cleanPosterPath = rawPoster.replace(/^\//, '');
                finalPoster = `${API_BASE_URL}/${cleanPosterPath}`;
            } else if (rawPoster) {
                finalPoster = rawPoster;
            }

            return `
                <a href="tournament-details.html?slug=${tournament.slug}" class="tournament-card">
                    <div class="tournament-card__poster">
                        <img src="${finalPoster}" alt="${tournament.title} Poster" onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1511556532299-8f662fc26c06?q=80&w=2070&auto=format&fit=crop';">
                    </div>
                    <div class="tournament-card__info">
                        <h3 class="tournament-card__title">${tournament.title}</h3>
                        <div class="tournament-info">
                            <span>ðŸ“… ${new Date(tournament.tournamentStart).toLocaleDateString()}</span>
                            <span>ðŸ‘¥ ${tournament.maxTeams} Teams</span>
                        </div>
                        <div class="prize-pool">ðŸ’° â‚¹${(tournament.prizePool || 0).toLocaleString('en-IN')} Prize Pool</div>
                        <p>${tournament.description.substring(0, 100)}...</p>
                    </div>
                </a>
            `;
        }).join('');
    }

    // Mobile menu toggle
    const hamburger = document.querySelector('.hamburger');
    const mobileNav = document.getElementById('mobile-nav');

    function toggleMobileMenu() {
      const isOpen = hamburger.getAttribute('aria-expanded') === 'true';
      hamburger.setAttribute('aria-expanded', !isOpen);
      mobileNav.classList.toggle('is-open');
      mobileNav.hidden = isOpen;
      document.body.style.overflow = isOpen ? '' : 'hidden';

      // Populate mobile nav actions based on auth state
      const mobileNavActions = document.querySelector('#mobile-nav .nav-actions');
      const authButtons = document.querySelector('#auth-buttons');
      const userMenu = document.querySelector('#user-menu');

      if (userMenu.style.display !== 'none') {
          mobileNavActions.innerHTML = `
            <a href="user-dashboard.html" class="header-cta">My Account</a>
            <a href="#" onclick="logout()" class="login-link" style="display: inline-block; color: white;">Logout</a>
          `;
      } else {
           mobileNavActions.innerHTML = `
            <button class="header-cta" onclick="redirectToAuth()">Join Now</button>
          `;
      }
    }

    if (hamburger) {
      hamburger.addEventListener('click', toggleMobileMenu);
    }
    document.addEventListener('click', function (event) {
      if (!mobileNav.contains(event.target) && !hamburger.contains(event.target) && mobileNav.classList.contains('is-open')) {
        toggleMobileMenu();
      }
    });

    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Add ripple effect to buttons
    function createRipple(event) {
      const button = event.currentTarget;
      const circle = document.createElement('span');
      const diameter = Math.max(button.clientWidth, button.clientHeight);
      const radius = diameter / 2;
      circle.style.width = circle.style.height = `${diameter}px`;
      circle.style.left = `${event.clientX - button.offsetLeft - radius}px`;
      circle.style.top = `${event.clientY - button.offsetTop - radius}px`;
      circle.classList.add('ripple');
      const ripple = button.getElementsByClassName('ripple')[0];
      if (ripple) ripple.remove();
      button.appendChild(circle);
    }
    const rippleStyle = document.createElement('style');
    rippleStyle.textContent = `
      .btn--primary, .header-cta { position: relative; overflow: hidden; }
      .ripple { position: absolute; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); transform: scale(0); animation: ripple-animation 0.6s linear; pointer-events: none; }
      @keyframes ripple-animation { to { transform: scale(4); opacity: 0; } }`;
    document.head.appendChild(rippleStyle);
    document.querySelectorAll('.btn--primary, .header-cta').forEach(button => {
      button.addEventListener('click', createRipple);
    });

    // Connection status monitoring
    window.addEventListener('online', () => {
      console.log('Connection restored! Refreshing all content...');
      populateAllSections().catch(console.error);
    });
    window.addEventListener('offline', () => {
      console.warn('Connection lost. Some features may not work properly.');
    });

    // Authentication and User Management
    function checkUserAuthentication() {
        const session = localStorage.getItem('earena_session') || sessionStorage.getItem('earena_session');
        if (!session) {
            clearUserSession();
            return;
        }

        try {
            const sessionData = JSON.parse(session);
            const user = sessionData?.data?.user;
            const token = sessionData?.data?.token;

            if (!user || !token) {
                clearUserSession();
                return;
            }

            const username = user.username || user.email.split('@')[0];
            const isAdmin = user.roles && user.roles.includes('admin');

            // Update UI
            document.getElementById('modal-username').textContent = username;
            
            document.getElementById('auth-buttons').style.display = 'none';
            document.getElementById('user-menu').style.display = 'flex';

            if (isAdmin) {
                document.getElementById('modal-role-badge').style.display = 'inline-block';
                document.getElementById('host-nav-item').style.display = 'block';
            } else {
                clearAdminUI();
            }
        } catch (error) {
            console.error('Invalid session data:', error);
            clearUserSession();
        }
    }
    
    function clearAdminUI() {
        document.getElementById('modal-role-badge').style.display = 'none';
        document.getElementById('host-nav-item').style.display = 'none';
    }


    function clearUserSession() {
      localStorage.removeItem('earena_session');
      sessionStorage.removeItem('earena_session');
      
      document.getElementById('auth-buttons').style.display = 'flex';
      document.getElementById('user-menu').style.display = 'none';
      clearAdminUI();
    }

    async function logout() {
      try {
        const session = localStorage.getItem('earena_session') || sessionStorage.getItem('earena_session');
        if (session) {
          const sessionData = JSON.parse(session);
          const token = sessionData?.data?.token;
          if (token) {
              await fetch(`${API_BASE_URL}/api/auth/logout`, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${token}` }
              });
          }
        }
      } catch (error) {
        console.error('Logout API error:', error);
      } finally {
        clearUserSession();
        console.log('Logged out successfully');
        window.location.reload();
      }
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('Initializing EArena homepage...');
      document.querySelector('.hero__content').classList.add('active');
      createParticles();
      animateFooter();
      checkUserAuthentication();
      if (navigator.onLine) {
        await populateAllSections();
      } else {
        console.error('No internet connection detected.');
        showErrorState();
      }
    });

    function animateFooter() {
        const footer = document.querySelector('.site-footer');
        if (!footer) return;

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    footer.classList.add('in-view');
                    observer.unobserve(footer);
                }
            });
        }, { threshold: 0.1 });

        observer.observe(footer);
    }


    // Create animated particles
    function createParticles() {
        const particlesContainer = document.getElementById('particles');
        if(!particlesContainer) return;
        const particleCount = 50;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 6 + 's';
            particle.style.animationDuration = (3 + Math.random() * 6) + 's';
            particlesContainer.appendChild(particle);
        }
    }
  </script>
</body>

</html>

